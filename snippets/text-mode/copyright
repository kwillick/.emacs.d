# -*- mode: snippet -*-
# name: copyright notice
# key: copyright
# --
${1:$(make-string (+ 21 (string-width text)) ?\=)}
 `(let* ((filename (buffer-file-name))
         (name (if filename
                   (file-name-nondirectory filename)
                 (buffer-name))))
    (concat name "\n"))`
 Copyright (c) `(format-time-string "%Y")` ${1:`(user-full-name)`}
${1:$(make-string (+ 21 (string-width text)) ?\=)}
`(if (= (length comment-end) 0)
         (save-excursion
           (let* ((fc (lambda ()
                        (forward-line)
                        (insert comment-start)))
                  (actions (list fc fc fc fc fc)))
             (forward-line -8)
             (insert comment-start)
             (mapc 'funcall actions))
           "")
       "")`
$0